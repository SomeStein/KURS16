2025-11-20 14:35:24,800 INFO - main.py[49]: Arguments: {'action': 'run', 'source': None, 'set_path': '.', 'editor': None}
2025-11-20 14:35:24,824 DEBUG - main.py[55]: Run build list
2025-11-20 14:35:24,824 DEBUG - main.py[58]: Load configs
2025-11-20 14:35:24,824 DEBUG - main.py[63]: Load compile list
2025-11-20 14:35:24,824 DEBUG - main.py[68]: Remember sources needed to compile
2025-11-20 14:35:24,824 DEBUG - files.py[165]: Source source='QRPGLESRC/aufg008.rpgle.pgm' gets removed from object-build-list because it needs to get compiled
2025-11-20 14:35:24,824 DEBUG - files.py[165]: Source source='QRPGLESRC/aufg008srv.rpgle.pgm' gets removed from object-build-list because it needs to get compiled
2025-11-20 14:35:24,824 DEBUG - files.py[165]: Source source='QRPGLESRC/aufg009.rpgle.pgm' gets removed from object-build-list because it needs to get compiled
2025-11-20 14:35:24,824 DEBUG - files.py[165]: Source source='QRPGLESRC/testlog.rpgle.pgm' gets removed from object-build-list because it needs to get compiled
2025-11-20 14:35:24,825 DEBUG - main.py[75]: Run object builds
2025-11-20 14:35:24,825 INFO - run_cmds.py[40]: Run level_item['level']=1: 4 entries
2025-11-20 14:35:24,825 INFO - run_cmds.py[48]: QRPGLESRC/aufg008.rpgle.pgm
2025-11-20 14:35:24,826 DEBUG - run_cmds.py[96]: Run PASE cmd: cl -v "CHGATR OBJ('"'src/QRPGLESRC/aufg008.rpgle.pgm'"') ATR(*CCSID) VALUE(1208)"; cl -v "dspjoblog" > .obi/log/joblog.txt
2025-11-20 14:35:24,935 DEBUG - run_cmds.py[96]: Run PASE cmd: liblist -a qrpglesrc 2> /dev/null; liblist -a QGPL 2> /dev/null; cl -v "CRTBNDRPG PGM("'qrpglesrc/aufg008'") SRCSTMF('"'src/QRPGLESRC/aufg008.rpgle.pgm'"') DBGVIEW(*ALL) REPLACE(*YES) TGTCCSID(*JOB) "; cl -v "dspjoblog" > .obi/log/joblog.txt
2025-11-20 14:35:25,145 ERROR - run_cmds.py[81]: result={'exit-code': 0, 'stdout': "CPC2196: Bibliothek QRPGLESRC der Bibliotheksliste hinzugef}gt.\nCommand is > CRTBNDRPG PGM(qrpglesrc/aufg008) SRCSTMF('src/QRPGLESRC/aufg008.rpgle.pgm') DBGVIEW(*ALL) REPLACE(*YES) TGTCCSID(*JOB)  <\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite      1\n  Befehl . . . . . . . . . . . . . :   CRTBNDRPG\n    Ausgegeben von . . . . . . . . :     KURS16\n  Programm . . . . . . . . . . . . :   AUFG008\n    Bibliothek . . . . . . . . . . :     QRPGLESRC\n  Text 'Beschreibung'  . . . . . . :   *SRCMBRTXT\n  Quellendatenstromdatei . . . . . :   src/QRPGLESRC/aufg008.rpgle.pgm\n    CCSID  . . . . . . . . . . . . :     1208\n  Ziel-CCSID . . . . . . . . . . . :   *JOB (37)\n  Text 'Beschreibung'  . . . . . . :\n  Letzte ¢nderung  . . . . . . . . :   20/11/25  14:35:23\n  Generierungsbewertungsstufe  . . :   10\n  Standardaktivierungsgruppe . . . :   *YES\n  Umwandlungsprogrammauswahlm¦gl.  :   *XREF      *GEN       *NOSECLVL  *SHOWCPY\n                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT\n                                       *DEBUGIO   *UNREF     *NOEVENTF\n  Testhilfesichten . . . . . . . . :   *ALL\n  Testhilfeverschl}sselungsschl. . :   *NONE\n  Ausgabe  . . . . . . . . . . . . :   *PRINT\n  Optimierungsstufe  . . . . . . . :   *NONE\n  Quellenlisteneinr}ckung  . . . . :   *NONE\n  Umsetzungsauswahlm¦g. eingeben . :   *NONE\n  Sortierfolge . . . . . . . . . . :   *HEX\n  Sprachen-ID  . . . . . . . . . . :   *JOBRUN\n  Programm ersetzen  . . . . . . . :   *YES\n  Benutzerprofil . . . . . . . . . :   *USER\n  Berechtigung . . . . . . . . . . :   *LIBCRTAUT\n  Numerische Daten abschneiden . . :   *YES\n  Numerische Daten korrigieren . . :   *NONE\n  Zielrelease  . . . . . . . . . . :   *CURRENT\n  Nullwerte zulassen . . . . . . . :   *NO\n  Bedingungsnamen definieren . . . :   *NONE\n  Leistungsdatenerfassung aktiv. . :   *PEP\n  Profildefinitionsdaten . . . . . :   *NOCOL\n  LIC-Optionen . . . . . . . . . . :\n  Prog.-Schnittstelle generieren . :   *NO\n  Verzeichnis einschlie~en . . . . :\n  Vorprozessoroptionen . . . . . . :   *NONE\n  Prototyp f. exp. Prozeduren erf. :   *NO\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite      2\nZeil.- <---------------------- Quellenbestimmungen ------------------------------------------------------->  Do  ¢nd.-  Src Folge-\nNummer ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Datum  ID  nummer\nQ u e l l e n l i s t e\n     1 **free                                                                                                               000001\n     2 ctl-opt main(AUFG008) dftactgrp(*no) actgrp('CALGRP') datfmt(*iso) timfmt(*iso);                                     000002\n     3                                                                                                                      000003\n     4 // Konstanten                                                                                                        000004\n        *--------------------------------------------------------------------*\n        * Aktive Umwandlungsauswahlm¦glichkeiten:                            *\n        *--------------------------------------------------------------------*\n        *  Text 'Beschreibung'  . . . . . . :                                *\n        *  Generierungsbewertungsstufe  . . :   10                           *\n        *  Standardaktivierungsgruppe . . . :   *NO                          *\n        *  Umwandlungsprogrammauswahlm¦gl.  :   *XREF      *GEN              *\n        *                                       *NOSECLVL  *SHOWCPY          *\n        *                                       *EXPDDS    *EXT              *\n        *                                       *NOSHOWSKP *NOSRCSTMT        *\n        *                                       *DEBUGIO   *UNREF            *\n        *                                       *NOEVENTF                    *\n        *  Optimierungsstufe  . . . . . . . :   *NONE                        *\n        *  Quellenlisteneinr}ckung  . . . . :   *NONE                        *\n        *  Umsetzungsauswahlm¦g. eingeben . :   *NONE                        *\n        *  Sortierfolge . . . . . . . . . . :   *HEX                         *\n        *  Sprachen-ID  . . . . . . . . . . :   *JOBRUN                      *\n        *  Benutzerprofil . . . . . . . . . :   *USER                        *\n        *  Berechtigung . . . . . . . . . . :   *LIBCRTAUT                   *\n        *  Numerische Daten abschneiden . . :   *YES                         *\n        *  Numerische Daten korrigieren . . :   *NONE                        *\n        *  Nullwerte zulassen . . . . . . . :   *NO                          *\n        *  Speichermodell  . .  . . . . . . :   *SNGLVL                      *\n        *  Binderverzeichnis aus Befehl . . :   *NONE                        *\n        *  Binderverzeichnis aus Quelle . . :   *NONE                        *\n        *  Aktivierungsgruppe . . . . . . . :   CALGRP                       *\n        *  Leistungsdatenerfassung aktiv. . :   *PEP                         *\n        *  Profildefinitionsdaten . . . . . :   *NOCOL                       *\n        *  Prog.-Schnittstelle generieren . :   *NO                          *\n        *  Prototyp f. exp. Prozeduren erf. :   *NO                          *\n        *--------------------------------------------------------------------*\n     5 dcl-c START_DATE  const(d'1900-01-01');                                                                              000005\n     6 dcl-c END_DATE    const(d'2099-12-31');                                                                              000006\n     7                                                                                                                      000007\n     8 // ==========================                                                                                        000008\n     9 // HAUPTPROZEDUR                                                                                                     000009\n    10 // ==========================                                                                                        000010\n    11                                                                                                                      000011\n    12 dcl-proc AUFG008;                                                                                                    000012\n    13                                                                                                                      000013\n    14   // File in usropn wegen file-lock                                                                                  000014\n    15   dcl-f CALENDAR     usage(*delete: *output) keyed usropn;                                                           000015\n======>        aaaaaaaa\n*RNF2120 40 a      000015  Externe Beschreibungen f}r Datei CALENDAR nicht gefunden;\n                           die Datei wird ignoriert.\n    16   dcl-ds o_CALENDAR  likerec(CALENDAR_R : *output) inz;                                                              000016\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite      3\nZeil.- <---------------------- Quellenbestimmungen ------------------------------------------------------->  Do  ¢nd.-  Src Folge-\nNummer ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Datum  ID  nummer\n======>                             aaaaaaaaaa\n*RNF3546 20 a      000016  Der Parameter f}r das Schl}sselwort LIKEREC ist ung}ltig.\n    17                                                                                                                      000017\n    18   // CL Befehle                                                                                                      000018\n    19   build_CALENDAR_file();                                                                                             000019\n    20                                                                                                                      000020\n    21   // INITIALISIERUNG                                                                                                 000021\n    22   open CALENDAR;                                                                                                     000022\n    23   clear o_CALENDAR;                                                                                                  000023\n    24   o_CALENDAR.Land        = 'AT';                                                                                     000024\n    25   o_CALENDAR.Datum       = START_DATE;                                                                               000025\n    26   o_CALENDAR.WT_zoned    = get_WT(o_CALENDAR.Datum);                                                                 000026\n    27   o_CALENDAR.WT_char     = get_WT_char(o_CALENDAR.WT_zoned);                                                         000027\n    28   o_CALENDAR.KW          = get_KW(o_CALENDAR.Datum);                                                                 000028\n    29   o_CALENDAR.Tag_Nr      = 1;                                                                                        000029\n    30   o_CALENDAR.Feiertag    = get_Feiertag(o_CALENDAR.Datum : o_CALENDAR.Land);                                         000030\n    31   o_CALENDAR.Feiertag_B  = get_Feiertag_B(o_CALENDAR.Feiertag);                                                      000031\n    32                                                                                                                      000032\n    33   // HAUPTSCHLEIFE                                                                                                   000033\n    34   dow o_CALENDAR.Datum <= END_DATE;                                                                  B01             000034\n    35                                                                                                                      000035\n    36     write CALENDAR_R o_CALENDAR;                                                                      01             000036\n    37                                                                                                                      000037\n    38     o_CALENDAR.Datum     += %days(1);                                                                 01             000038\n    39     o_CALENDAR.WT_zoned   = get_WT(o_CALENDAR.Datum);                                                 01             000039\n    40     o_CALENDAR.WT_char    = get_WT_char(o_CALENDAR.WT_zoned);                                         01             000040\n    41     o_CALENDAR.KW         = get_KW(o_CALENDAR.Datum);                                                 01             000041\n    42     o_CALENDAR.Tag_Nr     = get_Tag_Nr(o_CALENDAR.Datum);                                             01             000042\n    43     o_CALENDAR.Feiertag   = get_Feiertag(o_CALENDAR.Datum : o_CALENDAR.Land);                         01             000043\n    44     o_CALENDAR.Feiertag_B = get_Feiertag_B(o_CALENDAR.Feiertag);                                      01             000044\n    45   enddo;                                                                                             E01             000045\n    46                                                                                                                      000046\n    47   *inlr = *on;                                                                                                       000047\n    48 end-proc;                                                                                                            000048\n    49                                                                                                                      000049\n    50 // ==================================================                                                                000050\n    51 // HILFSFUNKTIONEN                                                                                                   000051\n    52 // ==================================================                                                                000052\n    53                                                                                                                      000053\n    54 // Wochentag                                                                                                         000054\n    55 dcl-proc get_WT;                                                                                                     000055\n    56                                                                                                                      000056\n    57   dcl-pi *n zoned(1);                                                                                                000057\n    58     Datum  date const;                                                                                               000058\n    59   end-pi;                                                                                                            000059\n    60                                                                                                                      000060\n    61   return %rem(%diff(Datum : d'0001-01-01' : *days) : 7) + 1;                                                         000061\n    62 end-proc;                                                                                                            000062\n    63                                                                                                                      000063\n    64 // Wochentag zeichen                                                                                                 000064\n    65 dcl-proc get_WT_char;                                                                                                000065\n    66                                                                                                                      000066\n    67   dcl-pi *n char(2);                                                                                                 000067\n    68     WT  zoned(1) const;                                                                                              000068\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite      4\nZeil.- <---------------------- Quellenbestimmungen ------------------------------------------------------->  Do  ¢nd.-  Src Folge-\nNummer ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Datum  ID  nummer\n    69   end-pi;                                                                                                            000069\n    70                                                                                                                      000070\n    71   dcl-s WTcharArr char(2) dim(7);                                                                                    000071\n    72                                                                                                                      000072\n    73   WTcharArr = %list('MO':'DI':'MI':'DO':'FR':'SA':'SO');                                                             000073\n    74                                                                                                                      000074\n    75   return WTcharArr(WT);                                                                                              000075\n    76 end-proc;                                                                                                            000076\n    77                                                                                                                      000077\n    78 // Montag KW1                                                                                                        000078\n    79 dcl-proc get_MontagKW1;                                                                                              000079\n    80   dcl-pi *n date;                                                                                                    000080\n    81     Jahr  packed(4) const;                                                                                           000081\n    82   end-pi;                                                                                                            000082\n    83                                                                                                                      000083\n    84   // *** Static Cache innerhalb der Prozedur ***                                                                     000084\n    85   dcl-s KW1Cache date dim(3000) static inz(*loval);                                                                  000085\n    86                                                                                                                      000086\n    87   dcl-s index     uns(10);                                                                                           000087\n    88   dcl-s Jan4      date;                                                                                              000088\n    89   dcl-s MontagKW1 date;                                                                                              000089\n    90                                                                                                                      000090\n    91   index = Jahr - %subdt(START_DATE: *years) + 1;                                                                     000091\n    92                                                                                                                      000092\n    93   // Prüfen, ob bereits im Cache vorhanden                                                                           000093\n    94   if KW1Cache(index) <> *loval;                                                                      B01             000094\n    95     return KW1Cache(index);                                                                           01             000095\n    96   endif;                                                                                             E01             000096\n    97                                                                                                                      000097\n    98   // Noch nicht im Cache -> berechnen                                                                                000098\n    99   Jan4      = %date(%char(Jahr) + '-01-04' : *ISO);                                                                  000099\n   100   MontagKW1 = Jan4 - %days(get_WT(Jan4) - 1);                                                                        000100\n   101                                                                                                                      000101\n   102   // Ergebnis im Cache speichern                                                                                     000102\n   103   KW1Cache(index) = MontagKW1;                                                                                       000103\n   104                                                                                                                      000104\n   105   return MontagKW1;                                                                                                  000105\n   106 end-proc;                                                                                                            000106\n   107                                                                                                                      000107\n   108 // Kalenderwoche (1-53)                                                                                              000108\n   109 dcl-proc get_KW;                                                                                                     000109\n   110   dcl-pi *n zoned(2);                                                                                                000110\n   111     Datum  date;                                                                                                     000111\n   112   end-pi;                                                                                                            000112\n   113                                                                                                                      000113\n   114   dcl-s WT         zoned(1);                                                                                         000114\n   115   dcl-s Jahr       packed(4);                                                                                        000115\n   116   dcl-s MontagKW1  date;                                                                                             000116\n   117   dcl-s KW         zoned(2);                                                                                         000117\n   118                                                                                                                      000118\n   119   // Wochentag bestimmen                                                                                             000119\n   120   WT = get_WT(Datum);                                                                                                000120\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite      5\nZeil.- <---------------------- Quellenbestimmungen ------------------------------------------------------->  Do  ¢nd.-  Src Folge-\nNummer ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Datum  ID  nummer\n   121                                                                                                                      000121\n   122   // Jahr bestimmen (von Donnerstag der aktuellen Woche)                                                             000122\n   123   Jahr = %subdt(Datum + %days(4 - WT) : *years);                                                                     000123\n   124                                                                                                                      000124\n   125   // Montag der KW1 des Jahres (aus Cache oder neu berechnet)                                                        000125\n   126   MontagKW1 = get_MontagKW1(Jahr);                                                                                   000126\n   127                                                                                                                      000127\n   128   // Kalenderwoche berechnen                                                                                         000128\n   129   KW = %div((%diff(Datum : MontagKW1 : *days)) : 7) + 1;                                                             000129\n   130                                                                                                                      000130\n   131   return KW;                                                                                                         000131\n   132 end-proc;                                                                                                            000132\n   133                                                                                                                      000133\n   134 // Laufender Tag im Jahr (1-366)                                                                                     000134\n   135 dcl-proc get_Tag_Nr;                                                                                                 000135\n   136   dcl-pi *n packed(3);                                                                                               000136\n   137     Datum date const;                                                                                                000137\n   138   end-pi;                                                                                                            000138\n   139                                                                                                                      000139\n   140   dcl-s jahr packed(4);                                                                                              000140\n   141                                                                                                                      000141\n   142   jahr = %subdt(Datum:*Y);                                                                                           000142\n   143                                                                                                                      000143\n   144   return %diff(Datum:  %date(%char(jahr) + '-01-01': *iso): *days) + 1;                                              000144\n   145 end-proc;                                                                                                            000145\n   146                                                                                                                      000146\n   147 // Feiertage                                                                                                         000147\n   148 dcl-proc get_Feiertag;                                                                                               000148\n   149                                                                                                                      000149\n   150   dcl-pi *n varchar(30);                                                                                             000150\n   151     Datum date const;                                                                                                000151\n   152     Land  char(2) const;                                                                                             000152\n   153   end-pi;                                                                                                            000153\n   154                                                                                                                      000154\n   155   // --- Fixe Feiertage mit zusammengesetztem Key 'MMDD'                                                             000155\n   156   dcl-ds FeiertageFix qualified dim(30) static;                                                                      000156\n   157     TagMon char(4);       // z. B. '0101' für 1. Jänner                                                              000157\n   158     Name   varchar(30);                                                                                              000158\n   159   end-ds;                                                                                                            000159\n   160                                                                                                                      000160\n   161   // --- Bewegliche Feiertage (relativ zu Ostern)                                                                    000161\n   162   dcl-ds FeiertageVar qualified dim(30) static;                                                                      000162\n   163     Diff int(10);                                                                                                    000163\n   164     Name varchar(30);                                                                                                000164\n   165   end-ds;                                                                                                            000165\n   166                                                                                                                      000166\n   167   dcl-s init ind static;                                                                                             000167\n   168   dcl-s tag zoned(2);                                                                                                000168\n   169   dcl-s mon zoned(2);                                                                                                000169\n   170   dcl-s jahr zoned(4);                                                                                               000170\n   171   dcl-s tagmon char(4);                                                                                              000171\n   172   dcl-s diff int(10);                                                                                                000172\n   173   dcl-s idx int(10);                                                                                                 000173\n   174                                                                                                                      000174\n   175   // Initialisierung (nur einmalig)                                                                                  000175\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite      6\nZeil.- <---------------------- Quellenbestimmungen ------------------------------------------------------->  Do  ¢nd.-  Src Folge-\nNummer ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Datum  ID  nummer\n   176   if not init;                                                                                       B01             000176\n   177                                                                                                                      000177\n   178     // --- Fixe Feiertage                                                                                            000178\n   179     FeiertageFix(1).TagMon = '0101';                                                                  01             000179\n   180     FeiertageFix(1).Name   = 'Neujahr';                                                               01             000180\n   181                                                                                                                      000181\n   182     FeiertageFix(2).TagMon = '0601';                                                                  01             000182\n   183     FeiertageFix(2).Name   = 'Heilige Drei Könige';                                                   01             000183\n   184                                                                                                                      000184\n   185     FeiertageFix(3).TagMon = '0105';                                                                  01             000185\n   186     FeiertageFix(3).Name   = 'Staatsfeiertag';                                                        01             000186\n   187                                                                                                                      000187\n   188     FeiertageFix(4).TagMon = '1508';                                                                  01             000188\n   189     FeiertageFix(4).Name   = 'Mariä Himmelfahrt';                                                     01             000189\n   190                                                                                                                      000190\n   191     FeiertageFix(5).TagMon = '2610';                                                                  01             000191\n   192     FeiertageFix(5).Name   = 'Nationalfeiertag';                                                      01             000192\n   193                                                                                                                      000193\n   194     FeiertageFix(6).TagMon = '0111';                                                                  01             000194\n   195     FeiertageFix(6).Name   = 'Allerheiligen';                                                         01             000195\n   196                                                                                                                      000196\n   197     FeiertageFix(7).TagMon = '0812';                                                                  01             000197\n   198     FeiertageFix(7).Name   = 'Mariä Empfängnis';                                                      01             000198\n   199                                                                                                                      000199\n   200     FeiertageFix(8).TagMon = '2412';                                                                  01             000200\n   201     FeiertageFix(8).Name   = 'Heiliger Abend';                                                        01             000201\n   202                                                                                                                      000202\n   203     FeiertageFix(9).TagMon = '2512';                                                                  01             000203\n   204     FeiertageFix(9).Name   = 'Christtag';                                                             01             000204\n   205                                                                                                                      000205\n   206     FeiertageFix(10).TagMon = '2612';                                                                 01             000206\n   207     FeiertageFix(10).Name   = 'Stefanitag';                                                           01             000207\n   208                                                                                                                      000208\n   209     FeiertageFix(11).TagMon = '3112';                                                                 01             000209\n   210     FeiertageFix(11).Name   = 'Silvester';                                                            01             000210\n   211                                                                                                                      000211\n   212     FeiertageFix(12).TagMon = '1903';                                                                 01             000212\n   213     FeiertageFix(12).Name   = 'Josefstag (regional)';                                                 01             000213\n   214                                                                                                                      000214\n   215     FeiertageFix(13).TagMon = '2406';                                                                 01             000215\n   216     FeiertageFix(13).Name   = 'Johannistag (regional)';                                               01             000216\n   217                                                                                                                      000217\n   218                                                                                                                      000218\n   219     // --- Bewegliche Feiertage (relativ zu Ostern)                                                                  000219\n   220     FeiertageVar(1).Diff = -46;                                                                       01             000220\n   221     FeiertageVar(1).Name = 'Aschermittwoch';                                                          01             000221\n   222                                                                                                                      000222\n   223     FeiertageVar(2).Diff = -7;                                                                        01             000223\n   224     FeiertageVar(2).Name = 'Palmsonntag';                                                             01             000224\n   225                                                                                                                      000225\n   226     FeiertageVar(3).Diff = -2;                                                                        01             000226\n   227     FeiertageVar(3).Name = 'Karfreitag (evang.)';                                                     01             000227\n   228                                                                                                                      000228\n   229     FeiertageVar(4).Diff = -1;                                                                        01             000229\n   230     FeiertageVar(4).Name = 'Karsamstag';                                                              01             000230\n   231                                                                                                                      000231\n   232     FeiertageVar(5).Diff = 0;                                                                         01             000232\n   233     FeiertageVar(5).Name = 'Ostersonntag';                                                            01             000233\n   234                                                                                                                      000234\n   235     FeiertageVar(6).Diff = 1;                                                                         01             000235\n   236     FeiertageVar(6).Name = 'Ostermontag';                                                             01             000236\n   237                                                                                                                      000237\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite      7\nZeil.- <---------------------- Quellenbestimmungen ------------------------------------------------------->  Do  ¢nd.-  Src Folge-\nNummer ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Datum  ID  nummer\n   238     FeiertageVar(7).Diff = 39;                                                                        01             000238\n   239     FeiertageVar(7).Name = 'Christi Himmelfahrt';                                                     01             000239\n   240                                                                                                                      000240\n   241     FeiertageVar(8).Diff = 49;                                                                        01             000241\n   242     FeiertageVar(8).Name = 'Pfingstsonntag';                                                          01             000242\n   243                                                                                                                      000243\n   244     FeiertageVar(9).Diff = 50;                                                                        01             000244\n   245     FeiertageVar(9).Name = 'Pfingstmontag';                                                           01             000245\n   246                                                                                                                      000246\n   247     FeiertageVar(10).Diff = 60;                                                                       01             000247\n   248     FeiertageVar(10).Name = 'Fronleichnam';                                                           01             000248\n   249                                                                                                                      000249\n   250     init = *on;                                                                                       01             000250\n   251   endif;                                                                                             E01             000251\n   252                                                                                                                      000252\n   253   // Länderfilter (derzeit nur AT)                                                                                   000253\n   254   if Land <> 'AT';                                                                                   B01             000254\n   255     return '';                                                                                        01             000255\n   256   endif;                                                                                             E01             000256\n   257                                                                                                                      000257\n   258   tag  = %subdt(Datum: *D);                                                                                          000258\n   259   mon  = %subdt(Datum: *M);                                                                                          000259\n   260   jahr = %subdt(Datum: *Y);                                                                                          000260\n   261                                                                                                                      000261\n   262   // Fixe Feiertage prüfen                                                                                           000262\n   263   tagmon = %editc(tag : 'X') + %editc(mon : 'X');                                                                    000263\n   264   idx = %lookup(tagmon : FeiertageFix(*).TagMon);                                                                    000264\n   265   if idx > 0;                                                                                        B01             000265\n   266     return FeiertageFix(idx).Name;                                                                    01             000266\n   267   endif;                                                                                             E01             000267\n   268                                                                                                                      000268\n   269   // Bewegliche Feiertage prüfen                                                                                     000269\n   270   diff = %diff(Datum : get_Ostern(jahr) : *days);                                                                    000270\n   271   idx = %lookup(diff : FeiertageVar(*).Diff);                                                                        000271\n   272   if idx > 0;                                                                                        B01             000272\n   273     return FeiertageVar(idx).Name;                                                                    01             000273\n   274   endif;                                                                                             E01             000274\n   275                                                                                                                      000275\n   276   // Kein Feiertag                                                                                                   000276\n   277   return '';                                                                                                         000277\n   278 end-proc;                                                                                                            000278\n   279                                                                                                                      000279\n   280 // Ostern                                                                                                            000280\n   281 dcl-proc get_Ostern;                                                                                                 000281\n   282                                                                                                                      000282\n   283   dcl-pi *n date;                                                                                                    000283\n   284     Jahr zoned(4) const;                                                                                             000284\n   285   end-pi;                                                                                                            000285\n   286                                                                                                                      000286\n   287   // *** Static Cache innerhalb der Prozedur ***                                                                     000287\n   288   dcl-s OsternCache date dim(3000) static inz(*loval);                                                               000288\n   289                                                                                                                      000289\n   290   dcl-s index     uns(10);                                                                                           000290\n   291   dcl-s a         int(10);                                                                                           000291\n   292   dcl-s b         int(10);                                                                                           000292\n   293   dcl-s c         int(10);                                                                                           000293\n   294   dcl-s d         int(10);                                                                                           000294\n   295   dcl-s e         int(10);                                                                                           000295\n   296   dcl-s m         int(10);                                                                                           000296\n   297   dcl-s n         int(10);                                                                                           000297\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite      8\nZeil.- <---------------------- Quellenbestimmungen ------------------------------------------------------->  Do  ¢nd.-  Src Folge-\nNummer ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Datum  ID  nummer\n   298   dcl-s tag      zoned(2);                                                                                           000298\n   299   dcl-s monat    zoned(2);                                                                                           000299\n   300                                                                                                                      000300\n   301   index = Jahr - %subdt(START_DATE: *years) + 1;                                                                     000301\n   302                                                                                                                      000302\n   303   // Prüfen, ob bereits im Cache vorhanden                                                                           000303\n   304   if OsternCache(index) <> *loval;                                                                   B01             000304\n   305     return OsternCache(index);                                                                        01             000305\n   306   endif;                                                                                             E01             000306\n   307                                                                                                                      000307\n   308   // Gausssche Osterformel                                                                                           000308\n   309   if Jahr < 1583;                                                                                    B01             000309\n   310     return *loval; // Julianisches System nicht unterstützt                                           01             000310\n   311   endif;                                                                                             E01             000311\n   312                                                                                                                      000312\n   313   a = %rem(Jahr: 19);                                                                                                000313\n   314   b = %div(Jahr: 100);                                                                                               000314\n   315   c = %rem(Jahr: 100);                                                                                               000315\n   316   d = %div(b: 4);                                                                                                    000316\n   317   e = %rem(b: 4);                                                                                                    000317\n   318   m = %div(8 * b + 13: 25);                                                                                          000318\n   319   n = (19 * a + b - d - m + 15);                                                                                     000319\n   320   n = %rem(n: 30);                                                                                                   000320\n   321   n = n + 15;                                                                                                        000321\n   322   n = n + %div(32 + 2 * e + 2 * %div(c: 4) - n - %rem(c: 4): 7);                                                     000322\n   323   tag = n - 9;                                                                                                       000323\n   324   monat = 3;                                                                                                         000324\n   325                                                                                                                      000325\n   326   if tag > 31;                                                                                       B01             000326\n   327     tag -= 31;                                                                                        01             000327\n   328     monat = 4;                                                                                        01             000328\n   329   endif;                                                                                             E01             000329\n   330                                                                                                                      000330\n   331   OsternCache(index) = %date(%char(Jahr)+'-'+%editc(monat: 'X')+'-'+%editc(tag: 'X') : *iso);                        000331\n   332   return OsternCache(index);                                                                                         000332\n   333 end-proc;                                                                                                            000333\n   334                                                                                                                      000334\n   335 // Boolean Feiertag                                                                                                  000335\n   336 dcl-proc get_Feiertag_B;                                                                                             000336\n   337   dcl-pi *n char(1);                                                                                                 000337\n   338     Name varchar(20) const;                                                                                          000338\n   339   end-pi;                                                                                                            000339\n   340                                                                                                                      000340\n   341   if Name = '';                                                                                      B01             000341\n   342     return '0';                                                                                       01             000342\n   343   else;                                                                                              X01             000343\n   344     return '1';                                                                                       01             000344\n   345   endif;                                                                                             E01             000345\n   346 end-proc;                                                                                                            000346\n   347                                                                                                                      000347\n   348 // reset                                                                                                             000348\n   349 dcl-proc build_CALENDAR_file;                                                                                        000349\n   350                                                                                                                      000350\n   351   dcl-pi *n end-pi;                                                                                                  000351\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite      9\nZeil.- <---------------------- Quellenbestimmungen ------------------------------------------------------->  Do  ¢nd.-  Src Folge-\nNummer ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Datum  ID  nummer\n   352                                                                                                                      000352\n   353   dcl-pr QCMDEXC extpgm('QCMDEXC');                                                                                  000353\n   354     cmd     char(3000) const;                                                                                        000354\n   355     length  packed(15:5) const;                                                                                      000355\n   356   end-pr;                                                                                                            000356\n   357                                                                                                                      000357\n   358   dcl-s cmdStr varchar(3000);                                                                                        000358\n   359   dcl-s cmdLen packed(15:5);                                                                                         000359\n   360                                                                                                                      000360\n   361   // Alte Datei löschen                                                                                              000361\n   362   cmdStr = 'DLTF FILE(KURS16/CALENDAR)';                                                                             000362\n   363   cmdLen = %len(%trim(cmdStr));                                                                                      000363\n   364   monitor;                                                                                           B01             000364\n   365     callp QCMDEXC(cmdStr : cmdLen);                                                                   01             000365\n   366   on-error;                                                                                          X01             000366\n   367   endmon;                                                                                            E01             000367\n   368                                                                                                                      000368\n   369   // Neue Datei erstellen aus DDS                                                                                    000369\n   370   cmdStr = 'CRTPF FILE(KURS16/CALENDAR) ' +                                                                          000370\n   371            'SRCFILE(KURS16/QDDSSRC) ' +                                                                              000371\n   372            'SRCMBR(CALENDAR) ' +                                                                                     000372\n   373            'SIZE(100000 10000) ';                                                                                    000373\n   374   cmdLen = %len(%trim(cmdStr));                                                                                      000374\n   375   callp QCMDEXC(cmdStr : cmdLen);                                                                                    000375\n   376                                                                                                                      000376\n   377   // Journaling deaktivieren                                                                                         000377\n   378   cmdStr = 'ENDJRNPF FILE(KURS16/CALENDAR)';                                                                         000378\n   379   cmdLen = %len(%trim(cmdStr));                                                                                      000379\n   380   monitor;                                                                                           B01             000380\n   381     callp QCMDEXC(cmdStr : cmdLen);                                                                   01             000381\n   382   on-error;                                                                                          X01             000382\n   383   endmon;                                                                                            E01             000383\n   384                                                                                                                      000384\n   385 end-proc;                                                                                                            000385\n* * * * *   E N D E   D E R   Q U E L L E   * * * * *\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite     10\nZ u s { t z l i c h e   D i a g n o s e n a c h r i c h t e n\n Msg-ID  Sv Nummer Folge   Nachrichtentext\n*RNF7030 30     16 000016  Der Name oder die Bezugszahl/der Anzeiger CALENDAR_R ist\n                           nicht definiert.\n*RNF7030 30     25 000025  Der Name oder die Bezugszahl/der Anzeiger DATUM ist nicht\n                           definiert.\n*RNF7030 30     30 000030  Der Name oder die Bezugszahl/der Anzeiger FEIERTAG ist\n                           nicht definiert.\n*RNF7030 30     31 000031  Der Name oder die Bezugszahl/der Anzeiger FEIERTAG_B ist\n                           nicht definiert.\n*RNF7030 30     28 000028  Der Name oder die Bezugszahl/der Anzeiger KW ist nicht\n                           definiert.\n*RNF7030 30     24 000024  Der Name oder die Bezugszahl/der Anzeiger LAND ist nicht\n                           definiert.\n*RNF7030 30     29 000029  Der Name oder die Bezugszahl/der Anzeiger TAG_NR ist nicht\n                           definiert.\n*RNF7030 30     27 000027  Der Name oder die Bezugszahl/der Anzeiger WT_CHAR ist nicht\n                           definiert.\n*RNF7030 30     26 000026  Der Name oder die Bezugszahl/der Anzeiger WT_ZONED ist\n                           nicht definiert.\n*RNF7503 30     24 000024  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     25 000025  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     26 000026  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     27 000027  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     28 000028  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     29 000029  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     30 000030  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     31 000031  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     34 000034  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     36 000036  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     38 000038  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     39 000039  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     40 000040  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     41 000041  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     42 000042  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     43 000043  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF7503 30     44 000044  Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n* * * * *   E N D E   D E R   Z U S ¢ T Z L I C H E N   D I A G N O S E N A C H R I C H T E N   * * * * *\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite     11\nQ u e r v e r w e i s l i s t e\n      Datei- und Satzverweise:\n         Datei             Einheit            Verweise (D=Definiert)\n           Satz\n         Keine Verweise in der Quelle.\n      Globale Feldverweise:\n         Feld              Attribute          Verweise (D=Definiert M=Modifiz.)\n         *INLR             N(1)                   47M\n         AUFG008           PROTOTYPE               2      12\n         BUILD_CALENDAR_FILE...\n                           PROTOTYPE              19M    349\n*RNF7030 CALENDAR_R        **UNDEF**              36\n         END_DATE          KONSTANTE               6D     34\n         GET_FEIERTAG      A(30)                  30      43     148\n                           VARYING(2)\n                           PROTOTYPE\n         GET_FEIERTAG_B    A(1)                   31      44     336\n                           PROTOTYPE\n         GET_KW            S(2,0)                 28      41     109\n                           PROTOTYPE\n         GET_MONTAGKW1     D(10*ISO-)             79     126\n                           PROTOTYPE\n         GET_OSTERN        D(10*ISO-)            270     281\n                           PROTOTYPE\n         GET_TAG_NR        P(3,0)                 42     135\n                           PROTOTYPE\n         GET_WT            S(1,0)                 26      39      55     100\n                           PROTOTYPE             120\n         GET_WT_CHAR       A(2)                   27      40      65\n                           PROTOTYPE\n         START_DATE        KONSTANTE               5D     25      91     301\n      Feldverweise f}r Unterprozedur AUFG008\n         Datei             Einheit            Verweise (D=Definiert)\n           Satz\n         CALENDAR          DISK                   15D     22\n         Feld              Attribute          Verweise (D=Definiert M=Modifiz.)\n         O_CALENDAR        DS(1)                  16D     23M     24M     25M\n                                                  26M     26      27M     27\n                                                  28M     28      29M     30M\n                                                  30      30      31M     31\n                                                  34      36      38M     39M\n                                                  39      40M     40      41M\n                                                  41      42M     42      43M\n                                                  43      43      44M     44\n      Feldverweise f}r Unterprozedur GET_WT\n         Feld              Attribute          Verweise (D=Definiert M=Modifiz.)\n         DATUM             D(10*ISO-)             58D     61\n      Feldverweise f}r Unterprozedur GET_WT_CHAR\n         Feld              Attribute          Verweise (D=Definiert M=Modifiz.)\n         WT                S(1,0)                 68D     75\n         WTCHARARR(7)      A(2)                   71D     73M     75\n      Feldverweise f}r Unterprozedur GET_MONTAGKW1\n         Feld              Attribute          Verweise (D=Definiert M=Modifiz.)\n         INDEX             U(10,0)                87D     91M     94      95\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite     12\n                                                 103\n         JAHR              P(4,0)                 81D     91      99\n         JAN4              D(10*ISO-)             88D     99M    100     100\n         KW1CACHE(3000)    D(10*ISO-)             85D     94      95     103M\n         MONTAGKW1         D(10*ISO-)             89D    100M    103     105\n      Feldverweise f}r Unterprozedur GET_KW\n         Feld              Attribute          Verweise (D=Definiert M=Modifiz.)\n         DATUM             D(10*ISO-)            111D    120     123     129\n         JAHR              P(4,0)                115D    123M    126\n         KW                S(2,0)                117D    129M    131\n         MONTAGKW1         D(10*ISO-)            116D    126M    129\n         WT                S(1,0)                114D    120M    123\n      Feldverweise f}r Unterprozedur GET_TAG_NR\n         Feld              Attribute          Verweise (D=Definiert M=Modifiz.)\n         DATUM             D(10*ISO-)            137D    142     144\n         JAHR              P(4,0)                140D    142M    144\n      Feldverweise f}r Unterprozedur GET_FEIERTAG\n         Feld              Attribute          Verweise (D=Definiert M=Modifiz.)\n         DATUM             D(10*ISO-)            151D    258     259     260\n                                                 270\n         DIFF              I(10,0)               172D    270M    271\n         FEIERTAGEFIX(30)  DS(36)                156D    179M    180M    182M\n                                                 183M    185M    186M    188M\n                                                 189M    191M    192M    194M\n                                                 195M    197M    198M    200M\n                                                 201M    203M    204M    206M\n                                                 207M    209M    210M    212M\n                                                 213M    215M    216M    264\n                                                 266\n           NAME            A(30)                 158D    180     183     186\n                           VARYING(2)            189     192     195     198\n                                                 201     204     207     210\n                                                 213     216     266\n           TAGMON          A(4)                  157D    179     182     185\n                                                 188     191     194     197\n                                                 200     203     206     209\n                                                 212     215     264\n         FEIERTAGEVAR(30)  DS(36)                162D    220M    221M    223M\n                                                 224M    226M    227M    229M\n                                                 230M    232M    233M    235M\n                                                 236M    238M    239M    241M\n                                                 242M    244M    245M    247M\n                                                 248M    271     273\n           DIFF            I(10,0)               163D    220     223     226\n                                                 229     232     235     238\n                                                 241     244     247     271\n           NAME            A(30)                 164D    221     224     227\n                           VARYING(2)            230     233     236     239\n                                                 242     245     248     273\n         IDX               I(10,0)               173D    264M    265     266\n                                                 271M    272     273\n         INIT              N(1)                  167D    176     250M\n         JAHR              S(4,0)                170D    260M    270\n         LAND              A(2)                  152D    254\n         MON               S(2,0)                169D    259M    263\n         TAG               S(2,0)                168D    258M    263\n         TAGMON            A(4)                  171D    263M    264\n      Feldverweise f}r Unterprozedur GET_OSTERN\n         Feld              Attribute          Verweise (D=Definiert M=Modifiz.)\n         A                 I(10,0)               291D    313M    319\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite     13\n         B                 I(10,0)               292D    314M    316     317\n                                                 318     319\n         C                 I(10,0)               293D    315M    322     322\n         D                 I(10,0)               294D    316M    319\n         E                 I(10,0)               295D    317M    322\n         INDEX             U(10,0)               290D    301M    304     305\n                                                 331     332\n         JAHR              S(4,0)                284D    301     309     313\n                                                 314     315     331\n         M                 I(10,0)               296D    318M    319\n         MONAT             S(2,0)                299D    324M    328M    331\n         N                 I(10,0)               297D    319M    320M    320\n                                                 321M    321     322M    322\n                                                 322     323\n         OSTERNCACHE(3000) D(10*ISO-)            288D    304     305     331M\n                                                 332\n         TAG               S(2,0)                298D    323M    326     327M\n                                                 331\n      Feldverweise f}r Unterprozedur GET_FEIERTAG_B\n         Feld              Attribute          Verweise (D=Definiert M=Modifiz.)\n         NAME              A(20)                 338D    341\n                           VARYING(2)\n      Feldverweise f}r Unterprozedur BUILD_CALENDAR_FILE\n         Feld              Attribute          Verweise (D=Definiert M=Modifiz.)\n         CMDLEN            P(15,5)               359D    363M    365     374M\n                                                 375     379M    381\n         CMDSTR            A(3000)               358D    362M    363     365\n                           VARYING(2)            370M    374     375     378M\n                                                 379     381\n         QCMDEXC           PROTOTYPE             353D    365     375     381\n      Bezugszahlen-/Anzeigerverweise:\n         Bez./Anz.                            Verweise (D=Definiert M=Modifiz.)\n         LR                                       47M\n* * * * *   E N D E   D E R   Q U E R V E R W E I S L I S T E   * * * * *\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite     14\nE x t e r n e   V e r w e i s e\n      Statisch gebundene Prozeduren:\n         Prozedur                             Verweise\n         Keine Verweise in der Quelle.\n      Importierte Felder:\n         Feld              Attribute          Definiert\n         Keine Verweise in der Quelle.\n      Exportierte Felder:\n         Feld              Attribute          Definiert\n         Keine Verweise in der Quelle.\n* * * * *   E N D E   D E R   E X T E R N E N   V E R W E I S E   * * * * *\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite     15\nN a c h r i c h t e n z u s a m m e n f a s s u n g\n Msg-ID  Sv Nummer Nachrichtentext\n*RNF3546 20      1 Der Parameter f}r das Schl}sselwort LIKEREC ist ung}ltig.\n*RNF7030 30      9 Der Name oder die Bezugszahl/der Anzeiger ist nicht\n                   definiert.\n*RNF7503 30     17 Ausdruck enth{lt einen Operanden, der nicht definiert ist.\n*RNF2120 40      1 Externe Beschreibung f}r die als extern beschriebene Datei\n                   nicht gefunden; die Datei wird ignoriert.\n* * * * *   E N D E   D E R   N A C H R I C H T E N Z U S A M M E N F A S S U N G   * * * * *\n 5770WDS V7R5M0  220415 RN        IBM ILE RPG             QRPGLESRC/AUFG008        SPGV74     20/11/25 14:35:25       Seite     16\nE n d z u s a m m e n f a s s u n g\n  Nachrichten}bersicht:\n    Information (00)  . . . . . . . :        0\n    Warnung      (10) . . . . . . . :        0\n    Fehler       (20) . . . . . . . :        1\n    Schwerwiegender Fehler (30+)  . :       27\n    ---------------------------------  -------\n    Summe . . . . . . . . . . . . . :       28\n  Quellens{tze insgesamt:\n    S{tze . . . . . . . . . . . . . :      385\n    Bestimmungen .  . . . . . . . . :      227\n    Datens{tze  . . . . . . . . . . :        0\n    Bemerkungen . . . . . . . . . . :      137\n* * * * *   E N D E   D E R   E N D Z U S A M M E N F A S S U N G   * * * * *\nUmwandlung gestoppt. Fehler mit Bewertungsstufe 40 im Programm gefunden.\n* * * * *   E N D E   D E R   U M S E T Z U N G   * * * * *\n", 'stderr': 'CPD000D: Befehl QSYS/CRTBNDRPG nicht sicher f}r Job mit mehreren Threads.\nRNS9308: Umwandlung gestoppt. Fehler mit Bewertungsstufe 40 im Programm gefunden.\nRNS9310: Umwandlung fehlgeschlagen. Programm AUFG008 in Bibliothek QRPGLESRC nicht erstellt.\n', 'joblog': 'Command is > dspjoblog <\nCPD000D: Befehl *LIBL/DSPJOBLOG nicht sicher f}r Job mit mehreren Threads.\n 5770SS1 V7R5M0 220415                        Jobprotokoll anzeigen                 SPGV74    20/11/25  14:35:25 CET    Seite    1\n  Jobname  . . . . . . . . . . :   QP0ZSPWP        Benutzer  . . . . :   QSECOFR      Nummer . . . . . . . . . . . :   530706\n  Jobbeschreibung  . . . . . . :   QDFTSVR         Bibliothek  . . . :   QGPL\nNACHR-ID   ART                     BEW  DATUM     ZEIT             VON PGM      BIBLIOTHEK  INST     AN PGM      BIBLIOTHEK  INST\nCPC2196    Beendigung              00   20/11/25  14:35:24.995958  QLICUSRL     QSYS        0114     QP2USER2    QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Zielmodul . . . . . . . . . :   QP2API\n                                     Zielprozedur  . . . . . . . :   runpase_common__FiPvT2\n                                     Anweisung . . . . . . . . . :   4\n                                     Nachricht . . . :   Bibliothek QRPGLESRC der Bibliotheksliste hinzugef}gt.\n                                     Ursache  . . . . :  Wenn der Befehl ADDLIBLE benutzt wurde, wurde QRPGLESRC\n                                       der Benutzerbibliotheksliste hinzugef}gt. Wenn der Befehl CHGSYSLIBL benutzt\n                                       wurde, wurde QRPGLESRC dem Systemteil der Bibliotheksliste hinzugef}gt.\nCPF2103    Diagnose                40   20/11/25  14:35:24.996326  QLICUSRL     QSYS        01A3     QP2USER2    QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Zielmodul . . . . . . . . . :   QP2API\n                                     Zielprozedur  . . . . . . . :   runpase_common__FiPvT2\n                                     Anweisung . . . . . . . . . :   4\n                                     Nachricht . . . :   Bibliothek QGPL in Bibliotheksliste bereits vorhanden.\n                                     Ursache  . . . . :  Die Bibliothek QGPL ist in der Bibliothekssuchliste\n                                       bereits vorhanden. Die Bibliothek wurde nicht hinzugef}gt.\n                                       Fehlerbeseitigung:  Wenn QGPL die angegebene Bibliothek ist, den Befehl\n                                       auslassen. Wurde Bibliothek QGPL nicht angegeben, dann den Bibliotheksnamen\n                                       (Parameter LIB) {ndern. Anschlie~end den Befehl wiederholen.\nCPD000D    Information             30   20/11/25  14:35:24.997339  QCATRS       QSYS        0465     QP2USER2    QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Zielmodul . . . . . . . . . :   QP2API\n                                     Zielprozedur  . . . . . . . :   runpase_common__FiPvT2\n                                     Anweisung . . . . . . . . . :   4\n                                     Nachricht . . . :   Befehl QSYS/CRTBNDRPG nicht sicher f}r Job mit mehreren\n                                       Threads.\n                                     Ursache  . . . . :  Der aktuelle Job enth{lt mehrere Threads. Der Befehl\n                                       QSYS/CRTBNDRPG kann nicht sicher in einem Job mit mehreren Threads\n                                       ausgef}hrt werden. Aktion 2 wird ausgef}hrt. Aktionen: 2 -- Die Verarbeitung\n                                       des Befehls wird fortgesetzt. 3 -- Diese Nachricht folgt auf\n                                       Abbruchnachricht CPF0001. Die Befehlsverarbeitung wird beendet.\n                                       Fehlerbeseitigung:  Der Befehl darf nicht in einem Job mit mehreren Threads\n                                       ausgef}hrt werden. Technische Beschreibung . . . . . . . :  Befehle, die f}r\n                                       Threads nicht sicher ausgef}hrt werden k¦nnen, sollten nicht in einem Job\n                                       mit mehreren Threads benutzt werden. Mit dem Befehl DSPCMD (Befehl anzeigen)\n                                       feststellen, ob ein Befehl sicher f}r Threads ausgef}hrt werden kann und\n                                       welche Aktion vom Befehlsanalyseprogramm ausgef}hrt wird, wenn der Befehl\n                                       f}r Threads nicht sicher ist. Wurde f}r die auszuf}hrende Aktion *SYSVAL\n                                       angegeben, wird die vom Befehlsanalyseprogramm durchzuf}hrende Aktion anhand\n                                       des Systemwerts QMLTTHDACN festgelegt.\nCPD4090    Diagnose                10   20/11/25  14:35:25.002336  QDMCOPEN     QSYS        17CC     QC2IO       QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Zielmodul . . . . . . . . . :   QC2CRIC1\n                                     Zielprozedur  . . . . . . . :   _C_Open file\n                                     Anweisung . . . . . . . . . :   15\n                                     Nachricht . . . :   Drucker PRT01 nicht gefunden. Ausgabewarteschlange in\n                                       QPRINT in Bibliothek QGPL ge{ndert.\n                                     Ursache  . . . . :  Der Drucker PRT01 wurde nicht gefunden. Die\n                                       Ausgabewarteschlange wurde f}r die Spool-Druckerdatei QSYSPRT in der\n                                       Bibliothek QSYS2929 ge{ndert. Fehlerbeseitigung:  Vor Wiederholung des\n                                       Programmlaufes einen der folgenden Schritte durchf}hren: - Druckernamen f}r\n                                       die Spool-Druckerdatei QSYSPRT in der Bibliothek QSYS2929 mit dem Befehl\n                                       CHGPRTF {ndern oder mit dem Befehl OVRPRTF }berschreiben. - Konfiguration\n                                       f}r den Drucker hinzuf}gen oder erstellen (Befehl CRTDEVPRT).\nRNS9308    Beendigung              50   20/11/25  14:35:25.043738  QRN4CPP      QDEVTOOLS   *STMT    QP2USER2    QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Ausgangsmodul . . . . . . . :   GRP4CPP\n 5770SS1 V7R5M0 220415                        Jobprotokoll anzeigen                 SPGV74    20/11/25  14:35:25 CET    Seite    2\n  Jobname  . . . . . . . . . . :   QP0ZSPWP        Benutzer  . . . . :   QSECOFR      Nummer . . . . . . . . . . . :   530706\n  Jobbeschreibung  . . . . . . :   QDFTSVR         Bibliothek  . . . :   QGPL\nNACHR-ID   ART                     BEW  DATUM     ZEIT             VON PGM      BIBLIOTHEK  INST     AN PGM      BIBLIOTHEK  INST\n                                     Ausgangsprozedur  . . . . . :   cleanup\n                                     Anweisung . . . . . . . . . :   19\n                                     Zielmodul . . . . . . . . . :   QP2API\n                                     Zielprozedur  . . . . . . . :   runpase_common__FiPvT2\n                                     Anweisung . . . . . . . . . :   4\n                                     Nachricht . . . :   Umwandlung gestoppt. Fehler mit Bewertungsstufe 40 im\n                                       Programm gefunden.\n                                     Ursache  . . . . : Vom RPG-Umwandlungsprogramm wurde mindestens ein Fehler im\n                                       Programm gefunden, dessen Bewertungsstufe den im Parameter GENLVL im Befehl\n                                       CRTRPGMOD oder CRTBNDRPG angegebenen Wert }berschreitet. Fehlerbeseitigung:\n                                       Die Fehler im Programm korrigieren. Wiederholen Sie die Umwandlung.\nCPC0904    Beendigung              00   20/11/25  14:35:25.045757  QWCCCRVC     QSYS        0095     QRN4CPP     QDEVTOOLS   *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Zielmodul . . . . . . . . . :   GRP4CPP\n                                     Zielprozedur  . . . . . . . :   update_dtaara\n                                     Anweisung . . . . . . . . . :   8\n                                     Nachricht . . . :   Datenbereich RETURNCODE in Bibliothek QTEMP erstellt.\nRNS9310    Diagnose                50   20/11/25  14:35:25.045789  QRN4CPP      QDEVTOOLS   *STMT    QP2USER2    QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Ausgangsmodul . . . . . . . :   GRP4CPP\n                                     Ausgangsprozedur  . . . . . :   endcomp\n                                     Anweisung . . . . . . . . . :   20\n                                     Zielmodul . . . . . . . . . :   QP2API\n                                     Zielprozedur  . . . . . . . :   runpase_common__FiPvT2\n                                     Anweisung . . . . . . . . . :   4\n                                     Nachricht . . . :   Umwandlung fehlgeschlagen. Programm AUFG008 in Bibliothek\n                                       QRPGLESRC nicht erstellt.\n                                     Ursache  . . . . : Die Umwandlung schl{gt normalerweise fehl, wenn die\n                                       Bewertungsstufe der ausgegebenen Nachrichten den Wert }berschreitet, der f}r\n                                       den Parameter GENLVL im Befehl CRTBNDPGM angegeben wurde. Die\n                                       Umwandlungsprogrammliste oder das Jobprotokoll auf Fehlernachrichten pr}fen.\n                                       Fehlerbeseitigung: Die Fehler korrigieren oder den f}r den Parameter GENLVL\n                                       angegebenen Wert {ndern. Wiederholen Sie die Umwandlung.\nCPC7301    Beendigung              00   20/11/25  14:35:25.054988  QDDCPF       QSYS        054C     QC2SYS      QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Zielmodul . . . . . . . . . :   QC2SYS\n                                     Zielprozedur  . . . . . . . :   system\n                                     Anweisung . . . . . . . . . :   13\n                                     Nachricht . . . :   Datei QP2CMD in Bibliothek QTEMP erstellt.\nCPC7305    Beendigung              00   20/11/25  14:35:25.057751  QDDCPFM      QSYS        005B     QC2SYS      QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Zielmodul . . . . . . . . . :   QC2SYS\n                                     Zielprozedur  . . . . . . . :   system\n                                     Anweisung . . . . . . . . . :   13\n                                     Nachricht . . . :   Teildatei QP2CMD zu Datei QP2CMD in QTEMP hinzugef}gt.\nCPD000D    Information             30   20/11/25  14:35:25.058001  QCATRS       QSYS        0465     QC2SYS      QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Zielmodul . . . . . . . . . :   QC2SYS\n                                     Zielprozedur  . . . . . . . :   system\n                                     Anweisung . . . . . . . . . :   13\n                                     Nachricht . . . :   Befehl QSYS/CPYSPLF nicht sicher f}r Job mit mehreren\n                                       Threads.\n                                     Ursache  . . . . :  Der aktuelle Job enth{lt mehrere Threads. Der Befehl\n                                       QSYS/CPYSPLF kann nicht sicher in einem Job mit mehreren Threads ausgef}hrt\n                                       werden. Aktion 2 wird ausgef}hrt. Aktionen: 2 -- Die Verarbeitung des\n                                       Befehls wird fortgesetzt. 3 -- Diese Nachricht folgt auf Abbruchnachricht\n                                       CPF0001. Die Befehlsverarbeitung wird beendet. Fehlerbeseitigung:  Der\n                                       Befehl darf nicht in einem Job mit mehreren Threads ausgef}hrt werden.\n 5770SS1 V7R5M0 220415                        Jobprotokoll anzeigen                 SPGV74    20/11/25  14:35:25 CET    Seite    3\n  Jobname  . . . . . . . . . . :   QP0ZSPWP        Benutzer  . . . . :   QSECOFR      Nummer . . . . . . . . . . . :   530706\n  Jobbeschreibung  . . . . . . :   QDFTSVR         Bibliothek  . . . :   QGPL\nNACHR-ID   ART                     BEW  DATUM     ZEIT             VON PGM      BIBLIOTHEK  INST     AN PGM      BIBLIOTHEK  INST\n                                       Technische Beschreibung . . . . . . . :  Befehle, die f}r Threads nicht\n                                       sicher ausgef}hrt werden k¦nnen, sollten nicht in einem Job mit mehreren\n                                       Threads benutzt werden. Mit dem Befehl DSPCMD (Befehl anzeigen) feststellen,\n                                       ob ein Befehl sicher f}r Threads ausgef}hrt werden kann und welche Aktion\n                                       vom Befehlsanalyseprogramm ausgef}hrt wird, wenn der Befehl f}r Threads\n                                       nicht sicher ist. Wurde f}r die auszuf}hrende Aktion *SYSVAL angegeben, wird\n                                       die vom Befehlsanalyseprogramm durchzuf}hrende Aktion anhand des Systemwerts\n                                       QMLTTHDACN festgelegt.\nCPF3485    Beendigung              00   20/11/25  14:35:25.078500  QSPCPYF      QSYS        076B     QC2SYS      QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Zielmodul . . . . . . . . . :   QC2SYS\n                                     Zielprozedur  . . . . . . . :   system\n                                     Anweisung . . . . . . . . . :   13\n                                     Nachricht . . . :   715 S{tze in Datei QP2CMD in QTEMP kopiert.\n                                     Ursache . . . . :  715 Datens{tze wurden von der Spool-Datei AUFG008 Nummer\n                                       221 Job 129305/KURS16/QPRTJOB erstellt auf System SPGV74 am 20/11/25\n                                       14:35:25 in die physische Datei QP2CMD in QTEMP Teildatei QP2CMD kopiert.\nCPD000D    Information             30   20/11/25  14:35:25.085825  QCATRS       QSYS        0465     QC2SYS      QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Zielmodul . . . . . . . . . :   QC2SYS\n                                     Zielprozedur  . . . . . . . :   system\n                                     Anweisung . . . . . . . . . :   13\n                                     Nachricht . . . :   Befehl *LIBL/DLTSPLF nicht sicher f}r Job mit mehreren\n                                       Threads.\n                                     Ursache  . . . . :  Der aktuelle Job enth{lt mehrere Threads. Der Befehl\n                                       *LIBL/DLTSPLF kann nicht sicher in einem Job mit mehreren Threads ausgef}hrt\n                                       werden. Aktion 2 wird ausgef}hrt. Aktionen: 2 -- Die Verarbeitung des\n                                       Befehls wird fortgesetzt. 3 -- Diese Nachricht folgt auf Abbruchnachricht\n                                       CPF0001. Die Befehlsverarbeitung wird beendet. Fehlerbeseitigung:  Der\n                                       Befehl darf nicht in einem Job mit mehreren Threads ausgef}hrt werden.\n                                       Technische Beschreibung . . . . . . . :  Befehle, die f}r Threads nicht\n                                       sicher ausgef}hrt werden k¦nnen, sollten nicht in einem Job mit mehreren\n                                       Threads benutzt werden. Mit dem Befehl DSPCMD (Befehl anzeigen) feststellen,\n                                       ob ein Befehl sicher f}r Threads ausgef}hrt werden kann und welche Aktion\n                                       vom Befehlsanalyseprogramm ausgef}hrt wird, wenn der Befehl f}r Threads\n                                       nicht sicher ist. Wurde f}r die auszuf}hrende Aktion *SYSVAL angegeben, wird\n                                       die vom Befehlsanalyseprogramm durchzuf}hrende Aktion anhand des Systemwerts\n                                       QMLTTHDACN festgelegt.\nCPC2191    Beendigung              00   20/11/25  14:35:25.096517  QLIDLOBJ     QSYS        0772     QC2SYS      QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Zielmodul . . . . . . . . . :   QC2SYS\n                                     Zielprozedur  . . . . . . . :   system\n                                     Anweisung . . . . . . . . . :   13\n                                     Nachricht . . . :   Objekt QP2CMD in QTEMP Art *FILE wurde gel¦scht.\nCPD000D    Information             30   20/11/25  14:35:25.098764  QCATRS       QSYS        0465     QP2USER2    QSYS        *STMT\n                                     Von Benutzer  . . . . . . . :   KURS16\n                                     Zielmodul . . . . . . . . . :   QP2CL\n                                     Zielprozedur  . . . . . . . :   __Qp2RunCL\n                                     Anweisung . . . . . . . . . :   93\n                                     Nachricht . . . :   Befehl *LIBL/DSPJOBLOG nicht sicher f}r Job mit mehreren\n                                       Threads.\n                                     Ursache  . . . . :  Der aktuelle Job enth{lt mehrere Threads. Der Befehl\n                                       *LIBL/DSPJOBLOG kann nicht sicher in einem Job mit mehreren Threads\n                                       ausgef}hrt werden. Aktion 2 wird ausgef}hrt. Aktionen: 2 -- Die Verarbeitung\n                                       des Befehls wird fortgesetzt. 3 -- Diese Nachricht folgt auf\n                                       Abbruchnachricht CPF0001. Die Befehlsverarbeitung wird beendet.\n                                       Fehlerbeseitigung:  Der Befehl darf nicht in einem Job mit mehreren Threads\n                                       ausgef}hrt werden. Technische Beschreibung . . . . . . . :  Befehle, die f}r\n 5770SS1 V7R5M0 220415                        Jobprotokoll anzeigen                 SPGV74    20/11/25  14:35:25 CET    Seite    4\n  Jobname  . . . . . . . . . . :   QP0ZSPWP        Benutzer  . . . . :   QSECOFR      Nummer . . . . . . . . . . . :   530706\n  Jobbeschreibung  . . . . . . :   QDFTSVR         Bibliothek  . . . :   QGPL\nNACHR-ID   ART                     BEW  DATUM     ZEIT             VON PGM      BIBLIOTHEK  INST     AN PGM      BIBLIOTHEK  INST\n                                       Threads nicht sicher ausgef}hrt werden k¦nnen, sollten nicht in einem Job\n                                       mit mehreren Threads benutzt werden. Mit dem Befehl DSPCMD (Befehl anzeigen)\n                                       feststellen, ob ein Befehl sicher f}r Threads ausgef}hrt werden kann und\n                                       welche Aktion vom Befehlsanalyseprogramm ausgef}hrt wird, wenn der Befehl\n                                       f}r Threads nicht sicher ist. Wurde f}r die auszuf}hrende Aktion *SYSVAL\n                                       angegeben, wird die vom Befehlsanalyseprogramm durchzuf}hrende Aktion anhand\n                                       des Systemwerts QMLTTHDACN festgelegt.\n'}
2025-11-20 14:35:25,147 ERROR - run_cmds.py[82]: Error for 'QRPGLESRC/aufg008.rpgle.pgm': CPD000D: Befehl QSYS/CRTBNDRPG nicht sicher f}r Job mit mehreren Threads.
RNS9308: Umwandlung gestoppt. Fehler mit Bewertungsstufe 40 im Programm gefunden.
RNS9310: Umwandlung fehlgeschlagen. Programm AUFG008 in Bibliothek QRPGLESRC nicht erstellt.
NoneType: None
2025-11-20 14:35:25,148 ERROR - main.py[79]: Error for 'QRPGLESRC/aufg008.rpgle.pgm': CPD000D: Befehl QSYS/CRTBNDRPG nicht sicher f}r Job mit mehreren Threads.
RNS9308: Umwandlung gestoppt. Fehler mit Bewertungsstufe 40 im Programm gefunden.
RNS9310: Umwandlung fehlgeschlagen. Programm AUFG008 in Bibliothek QRPGLESRC nicht erstellt.
Traceback (most recent call last):
  File "/apps/academy/2025/obi/main.py", line 77, in run_builds
    run_cmds.run_build_object_list(build_targets, build_list_file_name)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/apps/academy/2025/obi/module/run_cmds.py", line 83, in run_build_object_list
    raise e
Exception: Error for 'QRPGLESRC/aufg008.rpgle.pgm': CPD000D: Befehl QSYS/CRTBNDRPG nicht sicher f}r Job mit mehreren Threads.
RNS9308: Umwandlung gestoppt. Fehler mit Bewertungsstufe 40 im Programm gefunden.
RNS9310: Umwandlung fehlgeschlagen. Programm AUFG008 in Bibliothek QRPGLESRC nicht erstellt.

2025-11-20 14:35:25,150 DEBUG - main.py[87]: Get results from build
2025-11-20 14:35:25,151 DEBUG - results.py[111]: build_output_dir='.obi/build-output/objects', sub_folder='QRPGLESRC', lib_obj_name='aufg008.rpgle.pgm', lib_obj_name_md_encoded='aufg008.rpgle.pgm', obj_name='aufg008.rpgle.pgm', obj_lib='.'
2025-11-20 14:35:25,151 DEBUG - results.py[111]: build_output_dir='.obi/build-output/objects', sub_folder='QRPGLESRC', lib_obj_name='aufg008srv.rpgle.pgm', lib_obj_name_md_encoded='aufg008srv.rpgle.pgm', obj_name='aufg008srv.rpgle.pgm', obj_lib='.'
2025-11-20 14:35:25,151 DEBUG - results.py[111]: build_output_dir='.obi/build-output/objects', sub_folder='QRPGLESRC', lib_obj_name='aufg009.rpgle.pgm', lib_obj_name_md_encoded='aufg009.rpgle.pgm', obj_name='aufg009.rpgle.pgm', obj_lib='.'
2025-11-20 14:35:25,151 DEBUG - results.py[111]: build_output_dir='.obi/build-output/objects', sub_folder='QRPGLESRC', lib_obj_name='testlog.rpgle.pgm', lib_obj_name_md_encoded='testlog.rpgle.pgm', obj_name='testlog.rpgle.pgm', obj_lib='.'
2025-11-20 14:35:25,151 DEBUG - results.py[155]: []
2025-11-20 14:35:25,152 DEBUG - files.py[95]: Write Textfile: os.path.abspath(file)='/home/KURS16/project1/.obi/build-output/compiled-object-list.md'; 136487 Bytes
